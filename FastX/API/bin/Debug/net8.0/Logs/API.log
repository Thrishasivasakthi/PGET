2025-07-10 22:20:42,279 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-10 22:20:42,793 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-10 22:20:42,836 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-10 22:20:42,836 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-10 22:20:42,836 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-10 22:21:29,746 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-10 22:21:29,751 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-10 22:21:29,751 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-10 22:21:30,706 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (81ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-10 22:21:30,792 [7] INFO  API.Controllers.UserController - User login attempt for email: admin@example.com
2025-07-10 22:21:30,793 [7] INFO  API.Controllers.UserController - User admin@example.com authenticated successfully.
2025-07-10 22:21:30,793 [7] INFO  API.Controllers.UserController - Generating JWT token for user: admin@example.com
2025-07-10 22:21:30,794 [7] INFO  API.Controllers.UserController - Claims created for user: admin@example.com
2025-07-10 22:21:30,801 [7] INFO  API.Controllers.UserController - JWT token created for user: admin@example.com
2025-07-10 22:21:30,826 [7] INFO  API.Controllers.UserController - JWT token generated for user admin@example.com.
2025-07-10 22:21:59,456 [9] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-10 22:21:59,492 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-10 22:21:59,493 [16] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-10 22:22:09,727 [7] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:22:09,907 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:22:09,937 [7] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:22:20,655 [16] INFO  API.Controllers.AmenityController - Fetching all amenities...
2025-07-10 22:22:20,666 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Amenities] AS [a]
2025-07-10 22:22:20,671 [7] INFO  API.Controllers.AmenityController - Retrieved 4 amenities.
2025-07-10 22:30:16,550 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-10 22:30:17,896 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-10 22:30:17,978 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-10 22:30:17,978 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-10 22:30:17,978 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-10 22:31:34,722 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-10 22:31:35,875 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-10 22:31:35,947 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-10 22:31:35,948 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-10 22:31:35,948 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-10 22:31:59,268 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-10 22:31:59,295 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-10 22:31:59,296 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-10 22:32:01,489 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (364ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-10 22:32:01,663 [10] INFO  API.Controllers.UserController - User login attempt for email: admin@example.com
2025-07-10 22:32:01,664 [10] INFO  API.Controllers.UserController - User admin@example.com authenticated successfully.
2025-07-10 22:32:01,665 [10] INFO  API.Controllers.UserController - Generating JWT token for user: admin@example.com
2025-07-10 22:32:01,667 [10] INFO  API.Controllers.UserController - Claims created for user: admin@example.com
2025-07-10 22:32:01,676 [10] INFO  API.Controllers.UserController - JWT token created for user: admin@example.com
2025-07-10 22:32:01,726 [10] INFO  API.Controllers.UserController - JWT token generated for user admin@example.com.
2025-07-10 22:32:02,103 [15] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-10 22:32:02,194 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-10 22:32:02,197 [14] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-10 22:32:02,619 [14] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:32:02,991 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:32:03,055 [14] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:32:11,727 [14] INFO  API.Controllers.AdminController - Admin requested all bookings.
2025-07-10 22:32:11,898 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (111ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:32:12,030 [14] INFO  API.Controllers.AdminController - Retrieved 5 bookings.
2025-07-10 22:32:16,555 [13] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:32:16,570 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:32:16,571 [10] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:32:19,662 [10] INFO  API.Controllers.BusOperatorController - Fetching profile for user ID: 1
2025-07-10 22:32:19,798 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyName], [t].[ContactNumber], [t].[SupportEmail], [t].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
FROM (
    SELECT TOP(1) [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId]
    FROM [BusOperators] AS [b]
    WHERE [b].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Buses] AS [b0] ON [t].[Id] = [b0].[BusOperatorId]
ORDER BY [t].[Id]
2025-07-10 22:32:19,811 [10] INFO  API.Controllers.BusOperatorController - Retrieved profile for user ID: 1
2025-07-10 22:32:19,854 [9] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-10 22:32:19,932 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:32:19,977 [9] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-10 22:32:20,033 [9] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-10 22:32:20,086 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-10 22:32:20,088 [13] INFO  API.Controllers.BusOperatorController - Retrieved 3 bookings for operator ID: 1
2025-07-10 22:32:25,828 [9] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:32:25,839 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:32:25,841 [15] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:32:25,866 [14] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-10 22:32:25,881 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:32:25,887 [13] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-10 22:32:25,913 [9] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-10 22:32:25,930 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:32:25,935 [9] INFO  API.Controllers.BusOperatorController - Retrieved 4 buses for operator ID: 2
2025-07-10 22:32:30,024 [9] INFO  API.Controllers.BusController - Fetching bus with ID: 3
2025-07-10 22:32:30,077 [9] WARN  Microsoft.EntityFrameworkCore.Query - Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-10 22:32:30,171 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber], [t0].[BusId], [t0].[AmenityId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__id_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
LEFT JOIN (
    SELECT [b0].[BusId], [b0].[AmenityId], [a].[Id], [a].[Name]
    FROM [BusAmenities] AS [b0]
    INNER JOIN [Amenities] AS [a] ON [b0].[AmenityId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[BusId]
ORDER BY [t].[Id], [t].[Id0], [s].[Id], [t0].[BusId], [t0].[AmenityId]
2025-07-10 22:32:30,215 [7] INFO  API.Controllers.BusController - Retrieved bus with ID: 3.
2025-07-10 22:32:30,263 [7] INFO  API.Controllers.RouteController - Fetching all routes...
2025-07-10 22:32:30,297 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
ORDER BY [r].[Id]
2025-07-10 22:32:30,299 [7] INFO  API.Controllers.RouteController - Retrieved 5 routes.
2025-07-10 22:32:34,808 [13] INFO  API.Controllers.BusController - Updating bus with ID: 3
2025-07-10 22:32:34,856 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Buses] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-10 22:32:35,121 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Buses] SET [RouteId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-10 22:32:35,156 [15] INFO  API.Controllers.BusController - Bus with ID: 3 updated successfully.
2025-07-10 22:32:35,208 [14] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-10 22:32:35,216 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-10 22:32:35,219 [14] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-10 22:32:35,243 [9] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:32:35,254 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:32:35,255 [15] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:32:39,573 [9] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:32:39,582 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:32:39,583 [14] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:32:39,608 [15] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-10 22:32:39,622 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:32:39,625 [15] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-10 22:32:39,661 [10] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-10 22:32:39,676 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:32:39,679 [14] INFO  API.Controllers.BusOperatorController - Retrieved 4 buses for operator ID: 2
2025-07-10 22:32:44,796 [7] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 3
2025-07-10 22:32:44,864 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-10 22:32:44,865 [15] INFO  API.Controllers.BusController - Retrieved 60 available seats for bus ID: 3.
2025-07-10 22:32:53,061 [7] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:32:53,070 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:32:53,071 [7] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:32:53,096 [15] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-10 22:32:53,110 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:32:53,114 [10] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-10 22:32:53,143 [10] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-10 22:32:53,154 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:32:53,158 [10] INFO  API.Controllers.BusOperatorController - Retrieved 4 buses for operator ID: 2
2025-07-10 22:33:02,908 [9] INFO  API.Controllers.AmenityController - Fetching all amenities...
2025-07-10 22:33:02,924 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Amenities] AS [a]
2025-07-10 22:33:02,927 [15] INFO  API.Controllers.AmenityController - Retrieved 4 amenities.
2025-07-10 22:33:08,080 [13] INFO  API.Controllers.AmenityController - Attempting to assign 2 amenities to Bus ID: 3.
2025-07-10 22:33:08,111 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BusId], [b].[AmenityId]
FROM [BusAmenities] AS [b]
WHERE [b].[BusId] = @__busId_0
2025-07-10 22:33:08,282 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [BusAmenities]
OUTPUT 1
WHERE [AmenityId] = @p0 AND [BusId] = @p1;
INSERT INTO [BusAmenities] ([AmenityId], [BusId])
VALUES (@p2, @p3);
2025-07-10 22:33:08,315 [13] INFO  API.Controllers.AmenityController - Successfully assigned amenities to Bus ID: 3.
2025-07-10 22:33:08,358 [14] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-10 22:33:08,376 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-10 22:33:08,376 [14] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-10 22:33:08,408 [9] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:33:08,419 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:33:08,420 [9] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:33:12,225 [15] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-10 22:33:12,244 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-10 22:33:12,245 [15] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-10 22:33:12,270 [15] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-10 22:33:12,286 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:33:12,289 [13] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-10 22:33:12,312 [10] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-10 22:33:12,322 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-10 22:33:12,324 [10] INFO  API.Controllers.BusOperatorController - Retrieved 4 buses for operator ID: 2
2025-07-11 14:16:47,458 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-11 14:16:48,341 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-11 14:16:48,387 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-11 14:16:48,387 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-11 14:16:48,387 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-11 14:17:24,711 [5] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 14:17:24,715 [5] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 14:17:24,715 [5] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 14:17:25,878 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (144ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-11 14:17:25,973 [19] INFO  API.Controllers.UserController - User login attempt for email: admin@example.com
2025-07-11 14:17:25,973 [19] INFO  API.Controllers.UserController - User admin@example.com authenticated successfully.
2025-07-11 14:17:25,974 [19] INFO  API.Controllers.UserController - Generating JWT token for user: admin@example.com
2025-07-11 14:17:25,975 [19] INFO  API.Controllers.UserController - Claims created for user: admin@example.com
2025-07-11 14:17:25,979 [19] INFO  API.Controllers.UserController - JWT token created for user: admin@example.com
2025-07-11 14:17:26,004 [19] INFO  API.Controllers.UserController - JWT token generated for user admin@example.com.
2025-07-11 14:17:26,172 [7] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 14:17:26,229 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 14:17:26,230 [5] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 14:17:26,458 [5] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:17:26,605 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:17:26,627 [5] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:17:47,318 [19] INFO  API.Controllers.AdminController - Admin requested all bookings.
2025-07-11 14:17:47,459 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (97ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:17:47,540 [19] INFO  API.Controllers.AdminController - Retrieved 5 bookings.
2025-07-11 14:17:54,868 [17] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:17:54,876 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:17:54,877 [19] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:17:59,109 [7] INFO  API.Controllers.BusOperatorController - Fetching profile for user ID: 1
2025-07-11 14:17:59,185 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyName], [t].[ContactNumber], [t].[SupportEmail], [t].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
FROM (
    SELECT TOP(1) [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId]
    FROM [BusOperators] AS [b]
    WHERE [b].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Buses] AS [b0] ON [t].[Id] = [b0].[BusOperatorId]
ORDER BY [t].[Id]
2025-07-11 14:17:59,191 [19] INFO  API.Controllers.BusOperatorController - Retrieved profile for user ID: 1
2025-07-11 14:17:59,218 [17] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 14:17:59,253 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:17:59,277 [19] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 14:17:59,317 [17] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-11 14:17:59,338 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-11 14:17:59,339 [17] INFO  API.Controllers.BusOperatorController - Retrieved 3 bookings for operator ID: 1
2025-07-11 14:18:17,117 [19] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:18:17,121 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:18:17,122 [17] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:18:17,134 [7] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 14:18:17,140 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:18:17,152 [17] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 14:18:17,169 [19] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-11 14:18:17,172 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:18:17,173 [17] INFO  API.Controllers.BusOperatorController - Retrieved 4 buses for operator ID: 2
2025-07-11 14:18:23,012 [17] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 3
2025-07-11 14:18:23,045 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-11 14:18:23,047 [17] INFO  API.Controllers.BusController - Retrieved 60 available seats for bus ID: 3.
2025-07-11 14:18:45,161 [17] INFO  API.Controllers.AmenityController - Fetching all amenities...
2025-07-11 14:18:45,172 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Amenities] AS [a]
2025-07-11 14:18:45,179 [3] INFO  API.Controllers.AmenityController - Retrieved 4 amenities.
2025-07-11 14:18:48,875 [17] INFO  API.Controllers.AmenityController - Attempting to assign 1 amenities to Bus ID: 3.
2025-07-11 14:18:48,890 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BusId], [b].[AmenityId]
FROM [BusAmenities] AS [b]
WHERE [b].[BusId] = @__busId_0
2025-07-11 14:18:49,088 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [BusAmenities]
OUTPUT 1
WHERE [AmenityId] = @p0 AND [BusId] = @p1;
2025-07-11 14:18:49,107 [17] INFO  API.Controllers.AmenityController - Successfully assigned amenities to Bus ID: 3.
2025-07-11 14:18:49,145 [18] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 14:18:49,151 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 14:18:49,152 [3] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 14:18:49,170 [3] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:18:49,174 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:18:49,174 [3] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:18:55,362 [3] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:18:55,370 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:18:55,370 [16] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:18:55,383 [18] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 14:18:55,387 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:18:55,389 [17] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 14:18:55,410 [3] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-11 14:18:55,420 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:18:55,422 [16] INFO  API.Controllers.BusOperatorController - Retrieved 4 buses for operator ID: 2
2025-07-11 14:19:09,340 [16] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:19:09,349 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:19:09,349 [16] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:23:48,779 [20] INFO  API.Controllers.AmenityController - Fetching all amenities...
2025-07-11 14:23:48,794 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[Name]
FROM [Amenities] AS [a]
2025-07-11 14:23:48,794 [10] INFO  API.Controllers.AmenityController - Retrieved 4 amenities.
2025-07-11 14:24:39,293 [5] INFO  API.Controllers.BusController - Adding new bus: KVL Travels
2025-07-11 14:24:39,378 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 20), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Buses] ([BusName], [BusNumber], [BusOperatorId], [BusType], [RouteId], [TotalSeats])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-07-11 14:24:39,422 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (Size = 10), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (Size = 10), @p12='?' (DbType = Int32), @p13='?' (DbType = Boolean), @p14='?' (Size = 10), @p15='?' (DbType = Int32), @p16='?' (DbType = Boolean), @p17='?' (Size = 10), @p18='?' (DbType = Int32), @p19='?' (DbType = Boolean), @p20='?' (Size = 10), @p21='?' (DbType = Int32), @p22='?' (DbType = Boolean), @p23='?' (Size = 10), @p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (Size = 10), @p27='?' (DbType = Int32), @p28='?' (DbType = Boolean), @p29='?' (Size = 10), @p30='?' (DbType = Int32), @p31='?' (DbType = Boolean), @p32='?' (Size = 10), @p33='?' (DbType = Int32), @p34='?' (DbType = Boolean), @p35='?' (Size = 10), @p36='?' (DbType = Int32), @p37='?' (DbType = Boolean), @p38='?' (Size = 10), @p39='?' (DbType = Int32), @p40='?' (DbType = Boolean), @p41='?' (Size = 10), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (Size = 10), @p45='?' (DbType = Int32), @p46='?' (DbType = Boolean), @p47='?' (Size = 10), @p48='?' (DbType = Int32), @p49='?' (DbType = Boolean), @p50='?' (Size = 10), @p51='?' (DbType = Int32), @p52='?' (DbType = Boolean), @p53='?' (Size = 10), @p54='?' (DbType = Int32), @p55='?' (DbType = Boolean), @p56='?' (Size = 10), @p57='?' (DbType = Int32), @p58='?' (DbType = Boolean), @p59='?' (Size = 10), @p60='?' (DbType = Int32), @p61='?' (DbType = Boolean), @p62='?' (Size = 10), @p63='?' (DbType = Int32), @p64='?' (DbType = Boolean), @p65='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Seats] USING (
VALUES (@p6, @p7, @p8, 0),
(@p9, @p10, @p11, 1),
(@p12, @p13, @p14, 2),
(@p15, @p16, @p17, 3),
(@p18, @p19, @p20, 4),
(@p21, @p22, @p23, 5),
(@p24, @p25, @p26, 6),
(@p27, @p28, @p29, 7),
(@p30, @p31, @p32, 8),
(@p33, @p34, @p35, 9),
(@p36, @p37, @p38, 10),
(@p39, @p40, @p41, 11),
(@p42, @p43, @p44, 12),
(@p45, @p46, @p47, 13),
(@p48, @p49, @p50, 14),
(@p51, @p52, @p53, 15),
(@p54, @p55, @p56, 16),
(@p57, @p58, @p59, 17),
(@p60, @p61, @p62, 18),
(@p63, @p64, @p65, 19)) AS i ([BusId], [IsBooked], [SeatNumber], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([BusId], [IsBooked], [SeatNumber])
VALUES (i.[BusId], i.[IsBooked], i.[SeatNumber])
OUTPUT INSERTED.[Id], i._Position;
2025-07-11 14:24:39,442 [3] INFO  API.Controllers.BusController - Bus KVL Travels added successfully.
2025-07-11 14:24:39,485 [9] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 14:24:39,492 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 14:24:39,492 [5] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 14:24:39,507 [9] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:24:39,514 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:24:39,514 [3] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:24:43,035 [9] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:24:43,042 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:24:43,043 [3] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:24:43,056 [18] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 14:24:43,063 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:24:43,064 [3] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 14:24:43,084 [18] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-11 14:24:43,087 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:24:43,089 [18] INFO  API.Controllers.BusOperatorController - Retrieved 5 buses for operator ID: 2
2025-07-11 14:26:51,636 [30] INFO  API.Controllers.AdminController - Admin requested all bookings.
2025-07-11 14:26:51,645 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:26:51,645 [30] INFO  API.Controllers.AdminController - Retrieved 5 bookings.
2025-07-11 14:26:58,401 [34] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 14:26:58,405 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 14:26:58,406 [30] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 14:26:58,416 [32] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:26:58,420 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:26:58,420 [34] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:28:09,900 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-11 14:28:09,901 [38] INFO  API.Controllers.UserController - User login attempt for email: admin@example.com
2025-07-11 14:28:09,901 [38] INFO  API.Controllers.UserController - User admin@example.com authenticated successfully.
2025-07-11 14:28:09,901 [38] INFO  API.Controllers.UserController - Generating JWT token for user: admin@example.com
2025-07-11 14:28:09,901 [38] INFO  API.Controllers.UserController - Claims created for user: admin@example.com
2025-07-11 14:28:09,901 [38] INFO  API.Controllers.UserController - JWT token created for user: admin@example.com
2025-07-11 14:28:09,901 [38] INFO  API.Controllers.UserController - JWT token generated for user admin@example.com.
2025-07-11 14:29:22,707 [3] INFO  API.Controllers.AdminController - Admin attempting to add a new route from chennai to Theni.
2025-07-11 14:29:22,744 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Routes] ([ArrivalTime], [DepartureTime], [Destination], [Fare], [Origin])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-11 14:29:22,746 [38] INFO  API.Controllers.AdminController - Route added successfully with ID 6.
2025-07-11 14:34:41,197 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-11 14:34:42,185 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-11 14:34:42,236 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-11 14:34:42,236 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-11 14:34:42,236 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-11 14:34:59,630 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 14:34:59,633 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 14:34:59,634 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 14:35:01,002 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (111ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-11 14:35:01,106 [12] INFO  API.Controllers.UserController - User login attempt for email: admin@example.com
2025-07-11 14:35:01,107 [12] INFO  API.Controllers.UserController - User admin@example.com authenticated successfully.
2025-07-11 14:35:01,108 [12] INFO  API.Controllers.UserController - Generating JWT token for user: admin@example.com
2025-07-11 14:35:01,108 [12] INFO  API.Controllers.UserController - Claims created for user: admin@example.com
2025-07-11 14:35:01,115 [12] INFO  API.Controllers.UserController - JWT token created for user: admin@example.com
2025-07-11 14:35:01,158 [12] INFO  API.Controllers.UserController - JWT token generated for user admin@example.com.
2025-07-11 14:35:01,404 [13] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 14:35:01,486 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 14:35:01,488 [12] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 14:35:01,773 [10] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:35:01,950 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:35:01,972 [5] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:35:07,731 [13] INFO  API.Controllers.AdminController - Admin requested all bookings.
2025-07-11 14:35:07,784 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:35:07,846 [12] INFO  API.Controllers.AdminController - Retrieved 5 bookings.
2025-07-11 14:35:10,786 [12] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:35:10,796 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:35:10,798 [5] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:35:13,243 [13] INFO  API.Controllers.BusOperatorController - Fetching profile for user ID: 1
2025-07-11 14:35:13,302 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyName], [t].[ContactNumber], [t].[SupportEmail], [t].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
FROM (
    SELECT TOP(1) [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId]
    FROM [BusOperators] AS [b]
    WHERE [b].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Buses] AS [b0] ON [t].[Id] = [b0].[BusOperatorId]
ORDER BY [t].[Id]
2025-07-11 14:35:13,307 [5] INFO  API.Controllers.BusOperatorController - Retrieved profile for user ID: 1
2025-07-11 14:35:13,335 [13] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 14:35:13,362 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:35:13,384 [13] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 14:35:13,408 [12] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-11 14:35:13,428 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-11 14:35:13,429 [9] INFO  API.Controllers.BusOperatorController - Retrieved 3 bookings for operator ID: 1
2025-07-11 14:35:18,678 [12] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:35:18,684 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:35:18,685 [10] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:35:18,700 [12] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 14:35:18,705 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:35:18,708 [10] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 14:35:18,722 [12] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-11 14:35:18,725 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:35:18,728 [5] INFO  API.Controllers.BusOperatorController - Retrieved 5 buses for operator ID: 2
2025-07-11 14:35:24,786 [13] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:35:24,791 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:35:24,791 [13] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:35:49,435 [10] INFO  API.Controllers.AdminController - Admin attempting to add a new route from chennai to karur.
2025-07-11 14:35:49,590 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Routes] ([ArrivalTime], [DepartureTime], [Destination], [Fare], [Origin])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-11 14:35:49,623 [10] INFO  API.Controllers.AdminController - Route added successfully with ID 7.
2025-07-11 14:35:49,665 [13] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 14:35:49,669 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 14:35:49,669 [10] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 14:35:49,677 [13] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:35:49,681 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:35:49,681 [10] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:36:26,236 [13] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:36:26,247 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:36:26,247 [13] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:36:26,272 [9] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 14:36:26,281 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:36:26,282 [3] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 14:36:26,293 [25] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-11 14:36:26,298 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:36:26,305 [26] INFO  API.Controllers.BusOperatorController - Retrieved 5 buses for operator ID: 2
2025-07-11 14:36:36,844 [26] INFO  API.Controllers.BusController - Fetching bus with ID: 11
2025-07-11 14:36:36,866 [26] WARN  Microsoft.EntityFrameworkCore.Query - Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-11 14:36:36,900 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber], [t0].[BusId], [t0].[AmenityId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__id_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
LEFT JOIN (
    SELECT [b0].[BusId], [b0].[AmenityId], [a].[Id], [a].[Name]
    FROM [BusAmenities] AS [b0]
    INNER JOIN [Amenities] AS [a] ON [b0].[AmenityId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[BusId]
ORDER BY [t].[Id], [t].[Id0], [s].[Id], [t0].[BusId], [t0].[AmenityId]
2025-07-11 14:36:36,901 [26] INFO  API.Controllers.BusController - Retrieved bus with ID: 11.
2025-07-11 14:36:36,920 [25] INFO  API.Controllers.RouteController - Fetching all routes...
2025-07-11 14:36:36,938 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
ORDER BY [r].[Id]
2025-07-11 14:36:36,940 [26] INFO  API.Controllers.RouteController - Retrieved 7 routes.
2025-07-11 14:36:43,332 [3] INFO  API.Controllers.BusController - Updating bus with ID: 11
2025-07-11 14:36:43,362 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Buses] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-11 14:36:43,417 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Buses] SET [RouteId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-11 14:36:43,419 [25] INFO  API.Controllers.BusController - Bus with ID: 11 updated successfully.
2025-07-11 14:36:43,447 [25] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 14:36:43,451 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 14:36:43,452 [26] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 14:36:43,464 [3] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:36:43,470 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:36:43,470 [26] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:36:46,292 [3] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:36:46,302 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:36:46,304 [25] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 14:36:46,319 [26] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 14:36:46,325 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:36:46,326 [12] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 14:36:46,342 [3] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-11 14:36:46,345 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 14:36:46,348 [12] INFO  API.Controllers.BusOperatorController - Retrieved 5 buses for operator ID: 2
2025-07-11 14:36:57,632 [25] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 14:36:57,636 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 14:36:57,636 [25] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 14:36:57,652 [12] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 14:36:57,655 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 14:36:57,655 [25] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 15:33:26,449 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-11 15:33:27,365 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-11 15:33:27,486 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-11 15:33:27,486 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-11 15:33:27,486 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-11 15:33:42,760 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 15:33:42,765 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 15:33:42,766 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 15:33:44,718 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (166ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-11 15:33:44,895 [9] INFO  API.Controllers.UserController - User login attempt for email: admin@example.com
2025-07-11 15:33:44,896 [9] INFO  API.Controllers.UserController - User admin@example.com authenticated successfully.
2025-07-11 15:33:44,898 [9] INFO  API.Controllers.UserController - Generating JWT token for user: admin@example.com
2025-07-11 15:33:44,899 [9] INFO  API.Controllers.UserController - Claims created for user: admin@example.com
2025-07-11 15:33:44,911 [9] INFO  API.Controllers.UserController - JWT token created for user: admin@example.com
2025-07-11 15:33:44,976 [9] INFO  API.Controllers.UserController - JWT token generated for user admin@example.com.
2025-07-11 15:33:45,337 [9] INFO  API.Controllers.AdminController - Fetching all users...
2025-07-11 15:33:45,449 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] = N'User'
2025-07-11 15:33:45,452 [13] INFO  API.Controllers.AdminController - Fetched 3 users.
2025-07-11 15:33:45,844 [9] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 15:33:46,187 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 15:33:46,259 [9] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 15:33:52,720 [14] INFO  API.Controllers.AdminController - Admin requested all bookings.
2025-07-11 15:33:52,821 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 15:33:52,957 [14] INFO  API.Controllers.AdminController - Retrieved 5 bookings.
2025-07-11 15:33:58,193 [14] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 15:33:58,235 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 15:33:58,236 [15] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 15:34:01,532 [14] INFO  API.Controllers.BusOperatorController - Fetching profile for user ID: 1
2025-07-11 15:34:01,641 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyName], [t].[ContactNumber], [t].[SupportEmail], [t].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
FROM (
    SELECT TOP(1) [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId]
    FROM [BusOperators] AS [b]
    WHERE [b].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Buses] AS [b0] ON [t].[Id] = [b0].[BusOperatorId]
ORDER BY [t].[Id]
2025-07-11 15:34:01,658 [14] INFO  API.Controllers.BusOperatorController - Retrieved profile for user ID: 1
2025-07-11 15:34:01,713 [9] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 15:34:01,754 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 15:34:01,799 [15] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 15:34:01,854 [9] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-11 15:34:01,902 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-11 15:34:01,907 [9] INFO  API.Controllers.BusOperatorController - Retrieved 3 bookings for operator ID: 1
2025-07-11 15:34:08,115 [14] INFO  API.Controllers.AdminController - Admin requested all operators.
2025-07-11 15:34:08,127 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [BusOperators] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
2025-07-11 15:34:08,128 [14] INFO  API.Controllers.AdminController - Retrieved 2 operators.
2025-07-11 15:34:08,153 [9] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-11 15:34:08,284 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (128ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 15:34:08,297 [9] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-11 15:34:08,326 [9] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-11 15:34:08,333 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-11 15:34:08,344 [15] INFO  API.Controllers.BusOperatorController - Retrieved 5 buses for operator ID: 2
2025-07-11 21:29:31,530 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-11 21:29:32,983 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-11 21:29:33,086 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-11 21:29:33,086 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-11 21:29:33,086 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-11 22:34:47,169 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-11 22:34:48,347 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-11 22:34:48,431 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-11 22:34:48,431 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-11 22:34:48,431 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-11 22:35:34,051 [10] INFO  API.Controllers.UserController - User registration attempt for email: user@example.com
2025-07-11 22:35:35,928 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 22:35:35,929 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 22:35:35,929 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-11 22:35:38,129 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (214ms) [Parameters=[@__user_Email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-11 22:35:38,642 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FullName], [PasswordHash], [Role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-11 22:35:38,698 [19] INFO  API.Controllers.UserController - User user@example.com registered successfully.
2025-07-11 22:36:07,244 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-11 22:36:07,256 [20] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-11 22:36:07,256 [20] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-11 22:36:07,258 [20] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-11 22:36:07,258 [20] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-11 22:36:07,268 [20] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-11 22:36:07,338 [20] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 09:44:19,416 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-12 09:44:20,438 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-12 09:44:20,503 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-12 09:44:20,503 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-12 09:44:20,503 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-12 09:45:44,930 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 09:45:44,934 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 09:45:44,934 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 09:45:46,192 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 09:45:46,275 [12] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 09:45:46,275 [12] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 09:45:46,275 [12] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 09:45:46,276 [12] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 09:45:46,278 [12] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 09:45:46,310 [12] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 09:46:10,294 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 16:57:25,811 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-12 16:57:27,310 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-12 16:57:27,537 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-12 16:57:27,537 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-12 16:57:27,537 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-12 16:57:42,084 [12] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 16:57:42,089 [12] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 16:57:42,089 [12] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 16:57:44,209 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (330ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 16:57:44,366 [13] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 16:57:44,366 [13] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 16:57:44,368 [13] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 16:57:44,369 [13] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 16:57:44,379 [13] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 16:57:44,445 [13] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 16:57:45,145 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 16:57:45,148 [13] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 16:57:45,148 [13] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 16:57:45,148 [13] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 16:57:45,148 [13] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 16:57:45,148 [13] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 16:57:45,149 [13] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 16:58:12,433 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 16:58:12,434 [17] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 16:58:12,434 [17] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 16:58:12,434 [17] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 16:58:12,435 [17] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 16:58:12,435 [17] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 16:58:12,435 [17] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 16:58:16,099 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 16:58:16,100 [17] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 16:58:16,100 [17] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 16:58:16,100 [17] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 16:58:16,100 [17] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 16:58:16,100 [17] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 16:58:16,100 [17] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 16:58:34,858 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 16:58:34,858 [19] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 16:58:34,858 [19] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 16:58:34,858 [19] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 16:58:34,858 [19] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 16:58:34,858 [19] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 16:58:34,859 [19] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 17:00:06,608 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 17:00:06,609 [22] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 17:00:06,609 [22] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 17:00:06,609 [22] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 17:00:06,609 [22] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 17:00:06,609 [22] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 17:00:06,610 [22] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 17:00:08,724 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 17:00:08,724 [25] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 17:00:08,724 [25] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 17:00:08,724 [25] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 17:00:08,724 [25] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 17:00:08,725 [25] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 17:00:08,725 [25] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 17:00:08,862 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 17:00:08,865 [7] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 17:00:08,865 [7] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 17:00:08,865 [7] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 17:00:08,865 [7] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 17:00:08,865 [7] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 17:00:08,865 [7] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 17:00:09,089 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 17:00:09,092 [25] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 17:00:09,092 [25] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 17:00:09,092 [25] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 17:00:09,092 [25] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 17:00:09,093 [25] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 17:00:09,093 [25] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 17:55:06,102 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 17:55:06,104 [75] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 17:55:06,104 [75] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 17:55:06,104 [75] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 17:55:06,104 [75] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 17:55:06,104 [75] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 17:55:06,105 [75] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 17:55:08,193 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 17:55:08,196 [73] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 17:55:08,196 [73] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 17:55:08,196 [73] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 17:55:08,197 [73] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 17:55:08,197 [73] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 17:55:08,202 [73] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 17:55:09,058 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 17:55:09,058 [73] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 17:55:09,058 [73] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 17:55:09,058 [73] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 17:55:09,058 [73] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 17:55:09,058 [73] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 17:55:09,058 [73] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 18:04:18,306 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 18:04:18,308 [77] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 18:04:18,308 [77] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 18:04:18,308 [77] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 18:04:18,308 [77] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 18:04:18,308 [77] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 18:04:18,309 [77] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 19:08:22,781 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (106ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 19:08:22,793 [109] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 19:08:22,793 [109] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 19:08:22,793 [109] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 19:08:22,793 [109] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 19:08:22,794 [109] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 19:08:22,798 [109] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 19:26:36,561 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (88ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 19:26:36,572 [88] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 19:26:36,572 [88] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 19:26:36,572 [88] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 19:26:36,572 [88] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 19:26:36,574 [88] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 19:26:36,577 [88] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 19:26:49,479 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 19:27:22,781 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 19:27:22,978 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 19:27:43,519 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 19:27:44,979 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 19:27:45,574 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 19:31:20,122 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 19:31:29,137 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 20:08:39,823 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 20:08:39,836 [40] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 20:08:39,836 [40] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 20:08:39,836 [40] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 20:08:39,836 [40] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 20:08:39,836 [40] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 20:08:39,837 [40] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 20:09:09,811 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 20:09:27,364 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 20:10:28,947 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 20:10:28,948 [45] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 20:10:28,948 [45] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 20:10:28,948 [45] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 20:10:28,948 [45] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 20:10:28,948 [45] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 20:10:28,948 [45] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 20:11:03,668 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 20:11:03,668 [35] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 20:11:03,669 [35] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 20:11:03,669 [35] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 20:11:03,669 [35] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 20:11:03,669 [35] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 20:11:03,669 [35] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 20:11:24,697 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 20:20:50,660 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-12 20:20:51,998 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-12 20:20:52,093 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-12 20:20:52,093 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-12 20:20:52,093 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-12 20:21:01,710 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 20:21:01,714 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 20:21:01,715 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 20:21:03,137 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (229ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 20:25:27,965 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 20:25:28,077 [30] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 20:25:28,077 [30] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 20:25:28,079 [30] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 20:25:28,080 [30] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 20:25:28,088 [30] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 20:25:28,101 [30] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 20:26:15,110 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 20:28:27,327 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 20:35:22,459 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (142ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 20:45:59,606 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (155ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 20:45:59,649 [69] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 20:45:59,649 [69] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 20:45:59,649 [69] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 20:45:59,649 [69] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 20:45:59,650 [69] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 20:45:59,666 [69] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 20:46:10,106 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (83ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 21:09:26,490 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 21:34:42,559 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 21:34:42,582 [88] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 21:34:42,582 [88] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 21:34:42,582 [88] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 21:34:42,582 [88] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 21:34:42,582 [88] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 21:34:42,595 [88] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 21:34:54,122 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 21:43:28,058 [91] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 22:03:57,475 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-12 22:03:58,591 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-12 22:03:58,656 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-12 22:03:58,657 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-12 22:03:58,657 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-12 22:04:40,344 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 22:04:40,350 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 22:04:40,351 [9] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 22:04:42,395 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (159ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 22:04:42,571 [19] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 22:04:42,572 [19] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 22:04:42,574 [19] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 22:04:42,575 [19] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 22:04:42,586 [19] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 22:04:42,639 [19] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 22:05:19,803 [18] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 22:05:19,917 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 22:05:19,944 [13] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 22:35:20,729 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (173ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 22:35:20,859 [47] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 22:35:20,859 [47] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 22:35:20,859 [47] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 22:35:20,861 [47] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 22:35:20,862 [47] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 22:35:20,887 [47] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 22:35:33,069 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 22:42:31,614 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 22:42:34,381 [51] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 22:42:34,408 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 22:42:34,411 [51] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 22:49:45,696 [36] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 22:49:45,803 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 22:49:45,805 [36] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:00:39,150 [32] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:00:39,614 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (77ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:00:39,626 [61] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:04:47,654 [20] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:04:47,900 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:04:47,949 [20] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:08:50,932 [65] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:08:51,028 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:08:51,030 [65] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:09:19,204 [64] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:09:19,251 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:09:19,264 [64] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:13:38,223 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 23:13:38,233 [50] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 23:13:38,233 [50] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 23:13:38,233 [50] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 23:13:38,234 [50] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 23:13:38,234 [50] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 23:13:38,242 [50] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 23:13:47,286 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 23:13:50,318 [50] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:13:50,325 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:13:50,325 [50] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:18:31,580 [24] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:18:31,647 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:18:31,648 [28] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:19:02,315 [32] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:19:02,324 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:19:02,324 [32] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:19:12,798 [14] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:19:12,806 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:19:12,807 [18] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:22:03,850 [42] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:22:03,861 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:22:03,862 [34] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:22:24,837 [49] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:22:24,841 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:22:24,841 [27] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:25:27,620 [43] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:25:27,637 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:25:27,637 [39] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:25:35,923 [43] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:25:35,931 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:25:35,932 [39] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:42:07,733 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-12 23:42:08,668 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-12 23:42:08,754 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-12 23:42:08,754 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-12 23:42:08,754 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-12 23:42:17,690 [5] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 23:42:17,693 [5] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 23:42:17,693 [5] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 23:42:18,665 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (118ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 23:42:18,717 [10] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 23:42:18,717 [10] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 23:42:18,718 [10] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 23:42:18,718 [10] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 23:42:18,722 [10] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 23:42:18,749 [10] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 23:43:00,594 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 23:43:04,892 [9] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:43:04,955 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:43:04,963 [9] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:50:42,464 [28] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:50:42,800 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:50:42,811 [28] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:51:33,869 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-12 23:51:34,880 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-12 23:51:35,104 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-12 23:51:35,105 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-12 23:51:35,105 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-12 23:52:14,052 [3] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 23:52:14,055 [3] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 23:52:14,055 [3] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-12 23:52:15,128 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (257ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-12 23:52:15,183 [20] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-12 23:52:15,183 [20] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-12 23:52:15,184 [20] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-12 23:52:15,184 [20] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-12 23:52:15,188 [20] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-12 23:52:15,214 [20] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-12 23:52:25,645 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (131ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-12 23:52:39,330 [17] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:52:39,406 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:52:39,414 [12] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-12 23:54:36,617 [16] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-12 23:54:36,717 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-12 23:54:36,720 [18] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 00:02:59,821 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 00:02:59,869 [32] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 00:02:59,869 [32] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 00:02:59,870 [32] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 00:02:59,871 [32] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 00:02:59,876 [32] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 00:02:59,897 [32] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 00:08:29,813 [49] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 00:08:30,029 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (103ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:08:30,038 [48] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 00:08:54,737 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 00:08:54,740 [48] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 00:08:54,740 [48] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 00:08:54,741 [48] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 00:08:54,741 [48] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 00:08:54,741 [48] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 00:08:54,743 [48] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 00:10:57,361 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (79ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 00:10:57,385 [45] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 00:10:57,385 [45] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 00:10:57,385 [45] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 00:10:57,385 [45] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 00:10:57,385 [45] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 00:10:57,385 [45] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 00:13:50,611 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-13 00:13:51,903 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-13 00:13:52,023 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 00:13:52,023 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 00:13:52,023 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-13 00:14:13,616 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 00:14:13,622 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 00:14:13,622 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 00:14:15,538 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (130ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 00:14:15,699 [10] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 00:14:15,700 [10] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 00:14:15,702 [10] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 00:14:15,703 [10] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 00:14:15,712 [10] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 00:14:15,769 [10] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 00:14:34,882 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (153ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 00:14:39,913 [12] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 00:14:40,091 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:14:40,107 [13] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 00:16:58,587 [7] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 00:16:58,810 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:16:58,822 [3] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 00:17:07,964 [28] INFO  API.Controllers.BookingController - User 8 is attempting to book 2 seat(s) on Bus 1.
2025-07-13 00:17:08,148 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 00:17:08,811 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (101ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 00:17:08,891 [28] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 6.
2025-07-13 00:17:13,159 [7] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 00:17:13,169 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:17:13,169 [3] INFO  API.Controllers.BusController - Retrieved 38 available seats for bus ID: 1.
2025-07-13 00:22:10,198 [37] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 00:22:10,795 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (168ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:22:10,811 [40] INFO  API.Controllers.BusController - Retrieved 38 available seats for bus ID: 1.
2025-07-13 00:23:06,172 [44] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 00:23:06,466 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 00:23:06,483 [47] INFO  API.Controllers.BookingController - Found 1 bookings for User ID: 8.
2025-07-13 00:23:30,150 [39] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 00:23:30,201 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:23:30,202 [44] INFO  API.Controllers.BusController - Retrieved 38 available seats for bus ID: 1.
2025-07-13 00:23:37,886 [47] INFO  API.Controllers.BookingController - User 8 is attempting to book 2 seat(s) on Bus 1.
2025-07-13 00:23:37,912 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 00:23:38,065 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (95ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 00:23:38,074 [47] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 7.
2025-07-13 00:23:39,773 [44] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 00:23:39,788 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:23:39,789 [48] INFO  API.Controllers.BusController - Retrieved 36 available seats for bus ID: 1.
2025-07-13 00:23:39,791 [44] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 00:23:39,806 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 00:23:39,808 [48] INFO  API.Controllers.BookingController - Found 2 bookings for User ID: 8.
2025-07-13 00:26:43,781 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 00:26:43,799 [33] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 00:26:43,799 [33] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 00:26:43,799 [33] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 00:26:43,799 [33] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 00:26:43,800 [33] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 00:26:43,812 [33] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 00:30:03,953 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-13 00:30:05,264 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-13 00:30:05,371 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 00:30:05,371 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 00:30:05,371 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-13 00:30:45,032 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 00:30:45,040 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 00:30:45,041 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 00:30:46,979 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (156ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 00:30:47,164 [17] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 00:30:47,165 [17] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 00:30:47,167 [17] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 00:30:47,168 [17] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 00:30:47,179 [17] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 00:30:47,237 [17] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 00:32:11,423 [3] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 00:32:11,729 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 00:32:11,872 [3] INFO  API.Controllers.BookingController - Found 2 bookings for User ID: 8.
2025-07-13 00:36:18,536 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (120ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 00:36:18,569 [34] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 00:36:18,569 [34] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 00:36:18,569 [34] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 00:36:18,570 [34] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 00:36:18,572 [34] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 00:36:18,578 [34] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 00:36:29,589 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (113ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 00:36:33,931 [34] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 3
2025-07-13 00:36:33,986 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:36:34,019 [33] INFO  API.Controllers.BusController - Retrieved 60 available seats for bus ID: 3.
2025-07-13 00:36:41,341 [35] INFO  API.Controllers.BookingController - User 8 is attempting to book 2 seat(s) on Bus 3.
2025-07-13 00:36:41,433 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 00:36:42,041 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (100ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 00:36:42,136 [34] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 8.
2025-07-13 00:36:43,632 [35] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 3
2025-07-13 00:36:43,632 [33] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 00:36:43,653 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 00:36:43,656 [34] INFO  API.Controllers.BookingController - Found 3 bookings for User ID: 8.
2025-07-13 00:36:43,697 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 00:36:43,699 [30] INFO  API.Controllers.BusController - Retrieved 58 available seats for bus ID: 3.
2025-07-13 10:02:21,154 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-13 10:02:22,382 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-13 10:02:22,487 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 10:02:22,487 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 10:02:22,487 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-13 10:03:37,824 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 10:03:37,832 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 10:03:37,832 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 10:03:40,016 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (368ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 10:03:40,197 [18] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 10:03:40,197 [18] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 10:03:40,199 [18] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 10:03:40,200 [18] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 10:03:40,208 [18] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 10:03:40,264 [18] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 10:04:00,691 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (162ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 10:04:08,022 [3] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 10:04:08,162 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 10:04:08,181 [20] INFO  API.Controllers.BusController - Retrieved 36 available seats for bus ID: 1.
2025-07-13 10:04:21,122 [18] INFO  API.Controllers.BookingController - User 8 is attempting to book 2 seat(s) on Bus 1.
2025-07-13 10:04:21,234 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 10:04:21,661 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 10:04:21,708 [18] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 9.
2025-07-13 10:04:23,833 [19] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 10:04:23,853 [13] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 10:04:23,874 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 10:04:23,876 [3] INFO  API.Controllers.BusController - Retrieved 34 available seats for bus ID: 1.
2025-07-13 10:04:23,892 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 10:04:23,896 [19] INFO  API.Controllers.BookingController - Found 4 bookings for User ID: 8.
2025-07-13 10:48:09,903 [132] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 10:48:09,932 [132] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 10:48:09,932 [132] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 10:48:09,932 [132] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 10:48:09,933 [132] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 10:48:09,935 [132] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 10:48:09,945 [132] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 10:48:47,458 [124] INFO  API.Controllers.BookingController - Fetching Booking details for Booking ID: 6.
2025-07-13 10:48:47,588 [127] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 10:48:47,595 [127] INFO  API.Controllers.BookingController - Booking ID: 6 retrieved successfully.
2025-07-13 10:49:54,062 [119] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 10:49:54,098 [117] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0 AND [s].[IsBooked] = CAST(0 AS bit)
2025-07-13 10:49:54,100 [117] INFO  API.Controllers.BusController - Retrieved 34 available seats for bus ID: 1.
2025-07-13 17:50:44,242 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-13 17:50:45,466 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-13 17:50:45,524 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 17:50:45,524 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 17:50:45,524 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-13 17:51:47,048 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 17:51:47,053 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 17:51:47,053 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 17:51:48,507 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (269ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 17:51:48,621 [20] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 17:51:48,621 [20] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 17:51:48,622 [20] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 17:51:48,623 [20] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 17:51:48,630 [20] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 17:51:48,676 [20] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 17:52:03,285 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (105ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 17:52:06,475 [19] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 17:52:06,573 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 17:52:06,589 [19] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:04:59,567 [36] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:04:59,779 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:04:59,796 [34] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:08:16,785 [43] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:08:16,796 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:08:16,797 [45] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:19:34,434 [61] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:19:34,501 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:19:34,503 [61] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:22:43,552 [54] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:22:43,567 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:22:43,567 [54] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:22:51,588 [53] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:22:51,598 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:22:51,599 [53] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:24:45,513 [18] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:24:45,523 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:24:45,525 [10] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:31:29,244 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 18:31:29,257 [42] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 18:31:29,257 [42] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 18:31:29,257 [42] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 18:31:29,257 [42] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 18:31:29,260 [42] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 18:31:29,268 [42] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 18:34:07,600 [14] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 8
2025-07-13 18:34:07,820 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 18:34:08,028 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 18:34:08,078 [14] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 8
2025-07-13 18:39:05,301 [14] INFO  API.Controllers.BookingController - User 8 is attempting to book 1 seat(s) on Bus 1.
2025-07-13 18:39:05,481 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 18:39:05,602 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-13 18:39:05,642 [32] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 10.
2025-07-13 18:43:45,944 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 18:43:45,945 [35] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 18:43:45,945 [35] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 18:43:45,945 [35] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 18:43:45,945 [35] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 18:43:45,945 [35] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 18:43:45,945 [35] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 18:43:55,844 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 18:44:03,971 [43] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:44:03,980 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:44:03,980 [43] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:44:10,859 [42] INFO  API.Controllers.BookingController - User 8 is attempting to book 2 seat(s) on Bus 1.
2025-07-13 18:44:10,867 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 18:44:10,882 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 18:44:10,883 [35] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 11.
2025-07-13 18:44:10,896 [43] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 11
2025-07-13 18:44:10,900 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 18:44:10,904 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 18:44:10,905 [34] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 11
2025-07-13 18:44:14,103 [42] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:44:14,112 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:44:14,113 [43] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:44:14,114 [34] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 18:44:14,140 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 18:44:14,143 [35] INFO  API.Controllers.BookingController - Found 6 bookings for User ID: 8.
2025-07-13 18:51:49,358 [10] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 18:51:49,397 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 18:51:49,400 [10] INFO  API.Controllers.BookingController - Found 6 bookings for User ID: 8.
2025-07-13 18:51:57,578 [51] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 18:51:57,586 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 18:51:57,587 [19] INFO  API.Controllers.BookingController - Found 6 bookings for User ID: 8.
2025-07-13 18:52:44,966 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 18:52:44,972 [45] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 18:52:44,972 [45] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 18:52:44,972 [45] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 18:52:44,974 [45] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 18:52:44,974 [45] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 18:52:44,975 [45] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 18:52:54,979 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 18:52:59,233 [52] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:52:59,242 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:52:59,244 [43] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:53:05,476 [43] INFO  API.Controllers.BookingController - User 8 is attempting to book 2 seat(s) on Bus 1.
2025-07-13 18:53:05,486 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 18:53:05,517 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 18:53:05,519 [52] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 12.
2025-07-13 18:53:05,537 [40] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 12
2025-07-13 18:53:05,550 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 18:53:05,560 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 18:53:05,560 [40] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 12
2025-07-13 18:53:08,060 [47] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 18:53:08,060 [52] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 18:53:08,077 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 18:53:08,078 [43] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 18:53:08,090 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 18:53:08,092 [43] INFO  API.Controllers.BookingController - Found 7 bookings for User ID: 8.
2025-07-13 18:53:33,272 [53] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 18:53:33,287 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 18:53:33,288 [53] INFO  API.Controllers.BookingController - Found 7 bookings for User ID: 8.
2025-07-13 20:09:15,996 [170] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (153ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 20:09:16,033 [170] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 20:09:16,033 [170] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 20:09:16,034 [170] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 20:09:16,035 [170] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 20:09:16,036 [170] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 20:09:16,045 [170] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 20:09:35,961 [170] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (67ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 20:09:44,932 [168] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 20:09:44,953 [168] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 20:09:44,954 [168] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 20:09:53,515 [166] INFO  API.Controllers.BookingController - User 8 is attempting to book 2 seat(s) on Bus 1.
2025-07-13 20:09:53,535 [170] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 20:09:53,612 [168] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 20:09:53,617 [168] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 13.
2025-07-13 20:09:53,660 [166] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 13
2025-07-13 20:09:53,689 [170] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 20:09:53,699 [168] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 20:09:53,702 [168] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 13
2025-07-13 20:10:02,754 [168] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:10:02,754 [170] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 20:10:02,767 [166] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 20:10:02,768 [166] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 20:10:02,788 [171] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:10:02,791 [171] INFO  API.Controllers.BookingController - Found 8 bookings for User ID: 8.
2025-07-13 20:13:36,533 [151] INFO  API.Controllers.BookingController - Request received to cancel Booking ID: 6 with reason: med reason.
2025-07-13 20:13:36,654 [151] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 20:13:36,710 [150] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BookingDate], [t].[BusId], [t].[SeatNumbers], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[Id0], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id] AS [Id0], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
    FROM [Bookings] AS [b]
    INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
    WHERE [b].[Id] = @__bookingId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id0] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 20:13:36,770 [150] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__8__locals1_booking_BusId_0='?' (DbType = Int32), @__seat_1='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__8__locals1_booking_BusId_0 AND [s].[SeatNumber] = @__seat_1
2025-07-13 20:13:36,774 [153] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__8__locals1_booking_BusId_0='?' (DbType = Int32), @__seat_1='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__8__locals1_booking_BusId_0 AND [s].[SeatNumber] = @__seat_1
2025-07-13 20:13:36,855 [153] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 200), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Bookings] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [Cancellations] ([BookingId], [CancelledOn], [Reason], [RefundAmount])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 20:13:36,905 [153] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [p].[Id], [p].[BookingId], [p].[PaymentDate], [p].[PaymentMode], [p].[PaymentStatus]
FROM [Bookings] AS [b]
LEFT JOIN [Payments] AS [p] ON [b].[Id] = [p].[BookingId]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 20:13:37,594 [153] ERROR API.Controllers.BookingController - Exception occurred while cancelling Booking ID: 6.
System.Exception: Booking not found or already cancelled.
   at FastX.DAL.Services.CancellationService.RecordCancellationAsync(Int32 bookingId, String reason, Decimal refundAmount) in C:\Users\thris\source\repos\FastX\DAL\Services\CancellationService.cs:line 23
   at API.Controllers.BookingController.CancelBooking(Int32 bookingId, String reason) in C:\Users\thris\source\repos\FastX\API\Controllers\BookingController.cs:line 72
2025-07-13 20:14:23,775 [150] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 20:14:23,789 [149] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 20:14:23,790 [149] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 20:15:35,511 [146] INFO  API.Controllers.BookingController - User 8 is attempting to book 1 seat(s) on Bus 1.
2025-07-13 20:15:35,539 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 20:15:35,558 [146] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-13 20:15:35,560 [146] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 14.
2025-07-13 20:15:35,576 [143] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 14
2025-07-13 20:15:35,585 [145] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 20:15:35,593 [143] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 20:15:35,594 [143] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 14
2025-07-13 20:15:37,578 [146] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 20:15:37,581 [143] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:15:37,599 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 20:15:37,601 [47] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 20:15:37,640 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:15:37,644 [40] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:19:48,819 [172] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:19:48,869 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:19:48,870 [48] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:21:14,595 [107] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:21:14,620 [103] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:21:14,621 [103] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:21:22,773 [107] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:21:22,785 [111] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:21:22,786 [111] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:21:34,830 [144] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:21:34,843 [144] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:21:34,843 [144] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:22:43,529 [103] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 20:22:43,542 [103] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 20:22:43,542 [103] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 20:22:43,542 [103] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 20:22:43,542 [103] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 20:22:43,543 [103] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 20:22:43,549 [103] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 20:23:20,544 [177] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:23:20,563 [176] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:23:20,565 [176] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:27:15,016 [173] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:27:15,035 [173] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:27:15,036 [173] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:27:25,862 [140] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:27:25,883 [173] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:27:25,883 [173] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:36:08,983 [7] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:36:09,053 [171] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:36:09,055 [171] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:36:14,623 [39] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:36:14,653 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:36:14,654 [39] INFO  API.Controllers.BookingController - Found 9 bookings for User ID: 8.
2025-07-13 20:54:02,257 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 20:54:02,265 [109] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 20:54:02,266 [109] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 20:54:02,266 [109] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 20:54:02,267 [109] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 20:54:02,269 [109] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 20:54:02,273 [109] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 20:54:13,776 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 20:54:18,541 [43] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 20:54:18,559 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 20:54:18,565 [43] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 20:54:24,751 [45] INFO  API.Controllers.BookingController - User 8 is attempting to book 1 seat(s) on Bus 1.
2025-07-13 20:54:24,770 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 20:54:24,826 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-13 20:54:24,835 [45] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 15.
2025-07-13 20:54:24,913 [43] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 15
2025-07-13 20:54:24,937 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 20:54:24,965 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 20:54:24,966 [109] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 15
2025-07-13 20:54:26,874 [45] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 20:54:26,885 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 20:54:26,893 [125] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 20:54:26,914 [43] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 20:54:26,926 [107] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 20:54:26,930 [107] INFO  API.Controllers.BookingController - Found 10 bookings for User ID: 8.
2025-07-13 21:01:09,909 [20] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:01:10,174 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:01:10,177 [20] INFO  API.Controllers.BookingController - Found 10 bookings for User ID: 8.
2025-07-13 21:32:27,817 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 21:32:27,839 [72] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 21:32:27,839 [72] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 21:32:27,839 [72] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 21:32:27,840 [72] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 21:32:27,843 [72] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 21:32:27,857 [72] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 21:32:36,916 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 21:32:39,098 [72] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 21:32:39,118 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 21:32:39,118 [71] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 21:32:43,489 [77] INFO  API.Controllers.BookingController - User 8 is attempting to book 1 seat(s) on Bus 1.
2025-07-13 21:32:43,501 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 21:32:43,548 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-13 21:32:43,555 [77] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 16.
2025-07-13 21:32:43,589 [73] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 16
2025-07-13 21:32:43,614 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 21:32:43,626 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 21:32:43,626 [77] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 16
2025-07-13 21:32:45,999 [77] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 21:32:45,999 [73] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:32:46,051 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:32:46,052 [71] INFO  API.Controllers.BookingController - Found 11 bookings for User ID: 8.
2025-07-13 21:32:46,071 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 21:32:46,071 [70] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 21:36:02,238 [31] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:36:02,576 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (202ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:36:02,584 [62] INFO  API.Controllers.BookingController - Found 11 bookings for User ID: 8.
2025-07-13 21:37:53,781 [149] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:37:53,821 [149] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:37:53,822 [149] INFO  API.Controllers.BookingController - Found 11 bookings for User ID: 8.
2025-07-13 21:48:06,446 [49] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:48:06,657 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:48:06,659 [47] INFO  API.Controllers.BookingController - Found 11 bookings for User ID: 8.
2025-07-13 21:48:36,163 [61] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:48:36,180 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:48:36,181 [61] INFO  API.Controllers.BookingController - Found 11 bookings for User ID: 8.
2025-07-13 21:52:31,112 [158] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:52:31,139 [158] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:52:31,140 [158] INFO  API.Controllers.BookingController - Found 11 bookings for User ID: 8.
2025-07-13 21:52:42,943 [156] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:52:42,976 [159] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:52:42,978 [159] INFO  API.Controllers.BookingController - Found 11 bookings for User ID: 8.
2025-07-13 21:53:16,405 [154] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 21:53:16,424 [162] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 21:53:16,426 [162] INFO  API.Controllers.BookingController - Found 11 bookings for User ID: 8.
2025-07-13 22:39:24,393 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (114ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 22:39:24,420 [9] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 22:39:24,420 [9] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 22:39:24,420 [9] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 22:39:24,421 [9] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 22:39:24,424 [9] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 22:39:24,436 [9] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 22:39:42,820 [158] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (69ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 22:39:47,508 [144] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 22:39:47,529 [144] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 22:39:47,530 [144] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 22:40:00,376 [158] INFO  API.Controllers.BookingController - User 8 is attempting to book 2 seat(s) on Bus 1.
2025-07-13 22:40:00,391 [158] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 22:40:00,522 [158] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p8='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
UPDATE [Seats] SET [IsBooked] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-13 22:40:00,540 [158] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 17.
2025-07-13 22:40:00,627 [144] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 17
2025-07-13 22:40:00,685 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 22:40:00,707 [109] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 22:40:00,708 [109] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 17
2025-07-13 22:40:02,918 [109] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 22:40:02,919 [9] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 22:40:02,929 [158] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 22:40:02,931 [158] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 22:40:02,973 [158] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 22:40:02,975 [158] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 22:45:40,107 [75] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 22:45:40,197 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 22:45:40,198 [57] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 22:46:31,148 [58] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 22:46:31,184 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 22:46:31,188 [58] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 22:55:45,517 [165] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 22:55:46,052 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (127ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 22:55:46,059 [78] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 22:57:46,571 [56] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 22:57:46,603 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 22:57:46,604 [5] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 22:57:57,896 [125] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 22:57:57,909 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 22:57:57,910 [5] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 22:58:19,362 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 22:58:42,559 [5] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 22:58:42,580 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 22:58:42,581 [5] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 23:01:09,654 [59] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 23:01:09,765 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 23:01:09,770 [59] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 23:03:18,286 [20] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 23:03:18,301 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 23:03:18,302 [18] INFO  API.Controllers.BookingController - Found 12 bookings for User ID: 8.
2025-07-13 23:15:04,812 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 23:15:04,824 [20] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 23:15:04,824 [20] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 23:15:04,824 [20] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 23:15:04,824 [20] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 23:15:04,826 [20] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 23:15:04,831 [20] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 23:15:21,126 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-13 23:15:58,050 [159] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 23:15:58,073 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 23:15:58,074 [67] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 23:16:02,880 [159] INFO  API.Controllers.BookingController - User 8 is attempting to book 1 seat(s) on Bus 1.
2025-07-13 23:16:02,888 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [t].[Id0], [t].[ArrivalTime], [t].[DepartureTime], [t].[Destination], [t].[Fare], [t].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id] AS [Id0], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
    FROM [Buses] AS [b]
    INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
    WHERE [b].[Id] = @__busId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 23:16:02,991 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([BookingDate], [BusId], [SeatNumbers], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-13 23:16:02,997 [74] INFO  API.Controllers.BookingController - Booking successful. Booking ID: 18.
2025-07-13 23:16:03,055 [67] INFO  API.Controllers.PaymentController - Processing payment for Booking ID: 18
2025-07-13 23:16:03,094 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__p_0
2025-07-13 23:16:03,127 [159] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 30), @p3='?' (Size = 30)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([BookingId], [PaymentDate], [PaymentMode], [PaymentStatus])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-13 23:16:03,129 [159] INFO  API.Controllers.PaymentController - Payment processed successfully for Booking ID: 18
2025-07-13 23:16:04,839 [159] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-13 23:16:04,842 [74] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 23:16:04,843 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-13 23:16:04,843 [76] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-13 23:16:04,848 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 23:16:04,849 [76] INFO  API.Controllers.BookingController - Found 13 bookings for User ID: 8.
2025-07-13 23:16:27,126 [111] INFO  API.Controllers.BookingController - Request received to cancel Booking ID: 18 with reason: trip cancelled.
2025-07-13 23:16:27,140 [111] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 23:16:27,153 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BookingDate], [t].[BusId], [t].[SeatNumbers], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[Id0], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id] AS [Id0], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
    FROM [Bookings] AS [b]
    INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
    WHERE [b].[Id] = @__bookingId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id0] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 23:16:27,158 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__8__locals1_booking_BusId_0='?' (DbType = Int32), @__seat_1='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__8__locals1_booking_BusId_0 AND [s].[SeatNumber] = @__seat_1
2025-07-13 23:16:27,171 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 200), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Bookings] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [Cancellations] ([BookingId], [CancelledOn], [Reason], [RefundAmount])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-13 23:16:27,175 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [p].[Id], [p].[BookingId], [p].[PaymentDate], [p].[PaymentMode], [p].[PaymentStatus]
FROM [Bookings] AS [b]
LEFT JOIN [Payments] AS [p] ON [b].[Id] = [p].[BookingId]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 23:16:27,328 [5] ERROR API.Controllers.BookingController - Exception occurred while cancelling Booking ID: 18.
System.Exception: Booking not found or already cancelled.
   at FastX.DAL.Services.CancellationService.RecordCancellationAsync(Int32 bookingId, String reason, Decimal refundAmount) in C:\Users\thris\source\repos\FastX\DAL\Services\CancellationService.cs:line 23
   at API.Controllers.BookingController.CancelBooking(Int32 bookingId, String reason) in C:\Users\thris\source\repos\FastX\API\Controllers\BookingController.cs:line 72
2025-07-13 23:18:43,644 [160] INFO  API.Controllers.BookingController - Request received to cancel Booking ID: 18 with reason: trip.
2025-07-13 23:18:43,658 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 23:18:43,663 [143] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BookingDate], [t].[BusId], [t].[SeatNumbers], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[Id0], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id] AS [Id0], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
    FROM [Bookings] AS [b]
    INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
    WHERE [b].[Id] = @__bookingId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id0] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 23:18:43,674 [143] WARN  API.Controllers.BookingController - Cancellation failed for Booking ID: 18.
2025-07-13 23:41:14,419 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-13 23:41:15,242 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-13 23:41:15,291 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 23:41:15,291 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 23:41:15,291 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-13 23:41:34,067 [13] INFO  API.Controllers.BookingController - Request received to cancel Booking ID: 18 with reason: trip cancelled.
2025-07-13 23:41:34,523 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 23:41:34,523 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 23:41:34,523 [13] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-13 23:41:35,512 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (116ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 23:41:35,709 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BookingDate], [t].[BusId], [t].[SeatNumbers], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[Id0], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id] AS [Id0], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
    FROM [Bookings] AS [b]
    INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
    WHERE [b].[Id] = @__bookingId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id0] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 23:41:35,728 [14] WARN  API.Controllers.BookingController - Cancellation failed for Booking ID: 18.
2025-07-13 23:42:04,445 [13] INFO  API.Controllers.BookingController - Request received to cancel Booking ID: 10 with reason: no.
2025-07-13 23:42:04,464 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 23:42:04,468 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[BookingDate], [t].[BusId], [t].[SeatNumbers], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[Id0], [t].[BusName], [t].[BusNumber], [t].[BusOperatorId], [t].[BusType], [t].[RouteId], [t].[TotalSeats], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM (
    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id] AS [Id0], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
    FROM [Bookings] AS [b]
    INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
    WHERE [b].[Id] = @__bookingId_0
) AS [t]
LEFT JOIN [Seats] AS [s] ON [t].[Id0] = [s].[BusId]
ORDER BY [t].[Id], [t].[Id0]
2025-07-13 23:42:04,485 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__8__locals1_booking_BusId_0='?' (DbType = Int32), @__seat_1='?' (Size = 10)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__8__locals1_booking_BusId_0 AND [s].[SeatNumber] = @__seat_1
2025-07-13 23:42:04,653 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 200), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Bookings] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [Cancellations] ([BookingId], [CancelledOn], [Reason], [RefundAmount])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5);
UPDATE [Seats] SET [IsBooked] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-13 23:42:04,688 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [p].[Id], [p].[BookingId], [p].[PaymentDate], [p].[PaymentMode], [p].[PaymentStatus]
FROM [Bookings] AS [b]
LEFT JOIN [Payments] AS [p] ON [b].[Id] = [p].[BookingId]
WHERE [b].[Id] = @__bookingId_0
2025-07-13 23:42:04,733 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Cancellations]
OUTPUT 1
WHERE [Id] = @p0;
INSERT INTO [Cancellations] ([BookingId], [CancelledOn], [Reason], [RefundAmount])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2, @p3, @p4);
2025-07-13 23:42:04,737 [20] INFO  API.Controllers.BookingController - Cancellation successful for Booking ID: 10.
2025-07-13 23:42:07,680 [20] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 23:42:07,756 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 23:42:07,758 [20] INFO  API.Controllers.BookingController - Found 13 bookings for User ID: 8.
2025-07-13 23:42:22,262 [14] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-13 23:42:22,272 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-13 23:42:22,275 [14] INFO  API.Controllers.BookingController - Found 13 bookings for User ID: 8.
2025-07-13 23:48:31,293 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-13 23:48:31,330 [29] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-13 23:48:31,331 [29] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-13 23:48:31,334 [29] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-13 23:48:31,335 [29] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-13 23:48:31,344 [29] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-13 23:48:31,358 [29] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-13 23:50:11,345 [3] INFO  API.Controllers.UserController - Updating profile for user ID: 0
2025-07-13 23:50:11,418 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-13 23:50:11,566 [3] ERROR API.Controllers.UserController - Error updating profile for user ID: 0
System.Exception: User not found
   at FastX.DAL.Services.UserService.UpdateProfileAsync(User updatedUser) in C:\Users\thris\source\repos\FastX\DAL\Services\UserService.cs:line 57
   at API.Controllers.UserController.UpdateProfile(User user) in C:\Users\thris\source\repos\FastX\API\Controllers\UserController.cs:line 153
2025-07-13 23:50:38,992 [27] INFO  API.Controllers.UserController - Updating profile for user ID: 8
2025-07-13 23:50:38,999 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-13 23:50:39,019 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FullName] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-13 23:50:39,024 [10] INFO  API.Controllers.UserController - Profile updated successfully for user ID: 8.
2025-07-14 00:25:58,191 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (76ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 00:25:58,209 [84] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 00:25:58,209 [84] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 00:25:58,209 [84] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 00:25:58,210 [84] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 00:25:58,215 [84] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 00:25:58,225 [84] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 00:26:07,947 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (59ms) [Parameters=[@__origin_0='?' (Size = 100), @__destination_1='?' (Size = 100), @__date_Date_2='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats]
FROM [Routes] AS [r]
LEFT JOIN [Buses] AS [b] ON [r].[Id] = [b].[RouteId]
WHERE LOWER([r].[Origin]) = @__origin_0 AND LOWER([r].[Destination]) = @__destination_1 AND CONVERT(date, [r].[DepartureTime]) = @__date_Date_2
ORDER BY [r].[Id]
2025-07-14 00:26:10,226 [79] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-14 00:26:10,274 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (25ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-14 00:26:10,279 [79] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-14 00:28:52,166 [51] INFO  API.Controllers.BusController - Fetching available seats for bus ID: 1
2025-07-14 00:28:52,203 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@__busId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[BusId] = @__busId_0
2025-07-14 00:28:52,207 [51] INFO  API.Controllers.BusController - Retrieved 40 available seats for bus ID: 1.
2025-07-14 00:30:38,658 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (84ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 00:30:38,680 [39] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 00:30:38,680 [39] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 00:30:38,680 [39] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 00:30:38,681 [39] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 00:30:38,681 [39] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 00:30:38,686 [39] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 00:32:40,291 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 00:32:40,302 [28] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 00:32:40,302 [28] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 00:32:40,303 [28] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 00:32:40,303 [28] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 00:32:40,307 [28] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 00:32:40,311 [28] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 00:39:32,713 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 00:39:32,714 [29] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 00:39:32,714 [29] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 00:39:32,714 [29] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 00:39:32,715 [29] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 00:39:32,715 [29] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 00:39:32,716 [29] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 00:43:12,564 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 00:43:12,569 [21] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 00:43:12,569 [21] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 00:43:12,569 [21] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 00:43:12,569 [21] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 00:43:12,569 [21] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 00:43:12,571 [21] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 00:46:59,638 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 00:46:59,641 [75] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 00:47:12,185 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (25ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 00:47:12,187 [21] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 00:47:12,187 [21] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 00:47:12,187 [21] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 00:47:12,187 [21] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 00:47:12,187 [21] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 00:47:12,188 [21] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 00:59:23,173 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (124ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 00:59:23,201 [40] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 00:59:23,201 [40] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 00:59:23,201 [40] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 00:59:23,203 [40] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 00:59:23,204 [40] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 00:59:23,209 [40] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 01:03:30,841 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 01:03:30,844 [44] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 01:03:30,844 [44] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 01:03:30,844 [44] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 01:03:30,844 [44] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 01:03:30,845 [44] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 01:03:30,846 [44] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 01:03:59,402 [24] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-14 01:03:59,486 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-14 01:03:59,520 [50] INFO  API.Controllers.BookingController - Found 13 bookings for User ID: 8.
2025-07-14 01:05:23,911 [50] INFO  API.Controllers.UserController - Updating profile for user ID: 8
2025-07-14 01:05:23,973 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-14 01:05:24,031 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FullName] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-14 01:05:24,035 [10] INFO  API.Controllers.UserController - Profile updated successfully for user ID: 8.
2025-07-14 01:20:12,074 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (119ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 01:20:12,110 [71] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 01:20:12,110 [71] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 01:20:12,111 [71] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 01:20:12,111 [71] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 01:20:12,113 [71] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 01:20:12,122 [71] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 01:20:21,279 [67] INFO  API.Controllers.BookingController - Fetching all bookings for User ID: 8.
2025-07-14 01:20:21,340 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [Routes] AS [r] ON [b0].[RouteId] = [r].[Id]
WHERE [b].[UserId] = @__userId_0
2025-07-14 01:20:21,353 [67] INFO  API.Controllers.BookingController - Found 13 bookings for User ID: 8.
2025-07-14 08:35:32,953 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-14 08:35:34,306 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-14 08:35:34,367 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-14 08:35:34,368 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-14 08:35:34,368 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-14 08:36:43,474 [18] INFO  API.Controllers.UserController - User registration attempt for email: op@example.com
2025-07-14 08:36:44,415 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 08:36:44,416 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 08:36:44,417 [18] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 08:36:45,621 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (148ms) [Parameters=[@__user_Email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-14 08:36:45,889 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [FullName], [PasswordHash], [Role])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-07-14 08:36:45,920 [19] INFO  API.Controllers.UserController - User op@example.com registered successfully.
2025-07-14 08:37:21,974 [12] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 08:37:21,980 [12] INFO  API.Controllers.UserController - User login attempt for email: op@example.com
2025-07-14 08:37:21,980 [12] INFO  API.Controllers.UserController - User op@example.com authenticated successfully.
2025-07-14 08:37:21,981 [12] INFO  API.Controllers.UserController - Generating JWT token for user: op@example.com
2025-07-14 08:37:21,981 [12] INFO  API.Controllers.UserController - Claims created for user: op@example.com
2025-07-14 08:37:21,985 [12] INFO  API.Controllers.UserController - JWT token created for user: op@example.com
2025-07-14 08:37:22,013 [12] INFO  API.Controllers.UserController - JWT token generated for user op@example.com.
2025-07-14 08:41:30,262 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-14 08:41:31,137 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-14 08:41:31,184 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-14 08:41:31,184 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-14 08:41:31,184 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-14 08:42:07,374 [11] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 08:42:07,380 [11] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 08:42:07,381 [11] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 08:42:08,713 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (127ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 08:42:08,817 [19] INFO  API.Controllers.UserController - User login attempt for email: op@example.com
2025-07-14 08:42:08,817 [19] INFO  API.Controllers.UserController - User op@example.com authenticated successfully.
2025-07-14 08:42:08,818 [19] INFO  API.Controllers.UserController - Generating JWT token for user: op@example.com
2025-07-14 08:42:08,818 [19] INFO  API.Controllers.UserController - Claims created for user: op@example.com
2025-07-14 08:42:08,827 [19] INFO  API.Controllers.UserController - JWT token created for user: op@example.com
2025-07-14 08:42:08,854 [19] INFO  API.Controllers.UserController - JWT token generated for user op@example.com.
2025-07-14 08:43:12,999 [19] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 2
2025-07-14 08:43:13,238 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 08:43:13,323 [19] INFO  API.Controllers.BusOperatorController - Retrieved 5 buses for operator ID: 2
2025-07-14 08:44:08,471 [19] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 2
2025-07-14 08:44:08,633 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 08:44:08,676 [14] INFO  API.Controllers.BusOperatorController - Retrieved 14 bookings for operator ID: 2
2025-07-14 09:27:08,769 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-14 09:27:10,216 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-14 09:27:10,371 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-14 09:27:10,372 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-14 09:27:10,372 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-14 09:27:35,689 [7] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:27:35,697 [7] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:27:35,698 [7] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:27:37,634 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (196ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 09:27:37,792 [16] INFO  API.Controllers.UserController - User login attempt for email: operator1@fastx.com
2025-07-14 09:28:39,838 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 09:28:39,840 [17] INFO  API.Controllers.UserController - User login attempt for email: operator@example.com
2025-07-14 09:29:24,886 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 09:29:24,888 [23] INFO  API.Controllers.UserController - User login attempt for email: user@example.com
2025-07-14 09:29:24,888 [23] INFO  API.Controllers.UserController - User user@example.com authenticated successfully.
2025-07-14 09:29:24,889 [23] INFO  API.Controllers.UserController - Generating JWT token for user: user@example.com
2025-07-14 09:29:24,891 [23] INFO  API.Controllers.UserController - Claims created for user: user@example.com
2025-07-14 09:29:24,899 [23] INFO  API.Controllers.UserController - JWT token created for user: user@example.com
2025-07-14 09:29:24,963 [23] INFO  API.Controllers.UserController - JWT token generated for user user@example.com.
2025-07-14 09:29:49,274 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 09:29:49,275 [24] INFO  API.Controllers.UserController - User login attempt for email: op@example.com
2025-07-14 09:29:49,275 [24] INFO  API.Controllers.UserController - User op@example.com authenticated successfully.
2025-07-14 09:29:49,275 [24] INFO  API.Controllers.UserController - Generating JWT token for user: op@example.com
2025-07-14 09:29:49,275 [24] INFO  API.Controllers.UserController - Claims created for user: op@example.com
2025-07-14 09:29:49,275 [24] INFO  API.Controllers.UserController - JWT token created for user: op@example.com
2025-07-14 09:29:49,276 [24] INFO  API.Controllers.UserController - JWT token generated for user op@example.com.
2025-07-14 09:30:20,406 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 09:30:20,407 [28] INFO  API.Controllers.UserController - User login attempt for email: operator1@fastx.com
2025-07-14 09:31:00,740 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 09:31:00,742 [32] INFO  API.Controllers.UserController - User login attempt for email: op@example.com
2025-07-14 09:31:00,742 [32] INFO  API.Controllers.UserController - User op@example.com authenticated successfully.
2025-07-14 09:31:00,742 [32] INFO  API.Controllers.UserController - Generating JWT token for user: op@example.com
2025-07-14 09:31:00,742 [32] INFO  API.Controllers.UserController - Claims created for user: op@example.com
2025-07-14 09:31:00,742 [32] INFO  API.Controllers.UserController - JWT token created for user: op@example.com
2025-07-14 09:31:00,743 [32] INFO  API.Controllers.UserController - JWT token generated for user op@example.com.
2025-07-14 09:32:04,825 [39] INFO  API.Controllers.BusOperatorController - Fetching profile for user ID: 1
2025-07-14 09:32:05,099 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[CompanyName], [t].[ContactNumber], [t].[SupportEmail], [t].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats]
FROM (
    SELECT TOP(1) [b].[Id], [b].[CompanyName], [b].[ContactNumber], [b].[SupportEmail], [b].[UserId]
    FROM [BusOperators] AS [b]
    WHERE [b].[UserId] = @__userId_0
) AS [t]
LEFT JOIN [Buses] AS [b0] ON [t].[Id] = [b0].[BusOperatorId]
ORDER BY [t].[Id]
2025-07-14 09:32:05,189 [39] INFO  API.Controllers.BusOperatorController - Retrieved profile for user ID: 1
2025-07-14 09:38:05,753 [18] INFO  API.Controllers.UserController - Fetching profile for user ID: 1
2025-07-14 09:38:05,848 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-14 09:38:05,850 [7] INFO  API.Controllers.UserController - Retrieved profile for user ID: 1.
2025-07-14 09:38:11,855 [7] INFO  API.Controllers.UserController - Updating profile for user ID: 1
2025-07-14 09:38:11,868 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-14 09:38:12,092 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [FullName] = @p1, [PasswordHash] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-07-14 09:38:12,125 [7] INFO  API.Controllers.UserController - Profile updated successfully for user ID: 1.
2025-07-14 09:38:32,366 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 09:38:32,368 [44] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 09:38:32,368 [44] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 09:38:32,368 [44] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 09:38:32,368 [44] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 09:38:32,368 [44] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 09:38:32,368 [44] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 09:39:20,308 [25] INFO  API.Controllers.UserController - Updating profile for user ID: 1
2025-07-14 09:39:20,333 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-14 09:39:20,335 [25] INFO  API.Controllers.UserController - Profile updated successfully for user ID: 1.
2025-07-14 09:39:38,152 [27] INFO  API.Controllers.UserController - Updating profile for user ID: 1
2025-07-14 09:39:38,170 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-14 09:39:38,172 [27] INFO  API.Controllers.UserController - Profile updated successfully for user ID: 1.
2025-07-14 09:39:57,450 [24] INFO  API.Controllers.UserController - Updating profile for user ID: 1
2025-07-14 09:39:57,479 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-14 09:39:57,482 [27] INFO  API.Controllers.UserController - Profile updated successfully for user ID: 1.
2025-07-14 09:43:55,723 [1] INFO  Program - ðŸš€ Log4Net configured successfully.
2025-07-14 09:43:56,865 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5202
2025-07-14 09:43:56,937 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-14 09:43:56,937 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-14 09:43:56,937 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: C:\Users\thris\source\repos\FastX\API
2025-07-14 09:44:24,487 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'TotalAmount' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:44:24,492 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'RefundAmount' on entity type 'Cancellation'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:44:24,492 [10] WARN  Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fare' on entity type 'Route'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-14 09:44:26,430 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (137ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 09:44:26,610 [16] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 09:44:26,611 [16] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 09:44:26,612 [16] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 09:44:26,613 [16] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 09:44:26,621 [16] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 09:44:26,680 [16] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 10:02:54,957 [84] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:02:54,957 [81] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:02:55,413 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (85ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:02:55,413 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (87ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:02:55,462 [85] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:02:55,559 [83] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:03:09,277 [80] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:03:09,278 [83] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:03:09,480 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:03:09,480 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:03:09,483 [88] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:03:09,491 [88] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:08:41,344 [62] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:08:41,344 [60] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:08:41,620 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (124ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:08:41,620 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (124ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:08:41,635 [58] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:08:41,638 [63] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:09:07,402 [58] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:09:07,402 [52] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:09:07,475 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:09:07,479 [52] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:09:07,482 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:09:07,501 [52] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:12:13,142 [47] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:12:13,142 [50] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:12:13,412 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:12:13,412 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:12:13,421 [47] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:12:13,426 [46] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:25:50,860 [106] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (180ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 10:25:50,887 [106] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 10:25:50,888 [106] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 10:25:50,888 [106] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 10:25:50,888 [106] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 10:25:50,891 [106] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 10:25:50,905 [106] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 10:25:52,807 [106] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:25:52,808 [113] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:25:52,932 [106] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (51ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:25:52,932 [114] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (106ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:25:52,937 [114] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:25:52,941 [113] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:26:05,147 [106] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:26:05,147 [114] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:26:05,179 [113] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:26:05,182 [114] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:26:05,195 [114] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:26:05,196 [114] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:33:32,468 [102] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:33:32,467 [103] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:33:32,856 [102] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (123ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:33:32,864 [105] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (134ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:33:32,866 [105] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:33:32,870 [103] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:33:54,993 [107] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 10:33:54,999 [107] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 10:33:54,999 [107] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 10:33:54,999 [107] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 10:33:55,000 [107] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 10:33:55,001 [107] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 10:33:55,008 [107] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 10:33:57,472 [102] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:33:57,472 [101] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:33:57,506 [101] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:33:57,517 [98] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:33:57,518 [101] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:33:57,519 [98] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:43:25,374 [32] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:43:25,374 [34] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:43:25,629 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:43:25,630 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:43:25,635 [32] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:43:25,636 [34] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 10:47:24,486 [91] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 10:47:24,501 [91] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 10:47:24,501 [91] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 10:47:24,501 [91] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 10:47:24,502 [91] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 10:47:24,503 [91] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 10:47:24,507 [91] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 10:47:26,423 [91] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 10:47:26,423 [82] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 10:47:26,497 [82] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 10:47:26,497 [91] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 10:47:26,501 [82] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 10:47:26,509 [91] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 11:39:46,926 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (47ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 11:39:46,940 [57] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 11:39:46,940 [57] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 11:39:46,941 [57] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 11:39:46,941 [57] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 11:39:46,941 [57] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 11:39:46,948 [57] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 11:39:48,919 [107] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 11:39:48,919 [104] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 11:39:49,216 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (276ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 11:39:49,229 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (194ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 11:39:49,230 [57] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 11:39:49,255 [104] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 11:42:09,878 [5] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 11:42:09,878 [17] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 11:42:09,893 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 11:42:09,893 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 11:42:09,893 [17] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 11:42:09,894 [5] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 11:56:34,430 [48] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 11:56:34,430 [34] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 11:56:35,012 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (274ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 11:56:35,012 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (283ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 11:56:35,029 [95] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 11:56:35,056 [34] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 11:56:46,032 [48] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 11:56:46,032 [40] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 11:56:46,067 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 11:56:46,072 [34] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 11:56:46,072 [99] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 11:56:46,073 [99] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 12:10:07,745 [38] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 12:10:07,745 [60] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 12:10:08,116 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (140ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 12:10:08,116 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (162ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 12:10:08,124 [65] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 12:10:08,147 [38] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 12:10:27,217 [60] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 12:10:27,217 [59] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 12:10:27,244 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 12:10:27,245 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 12:10:27,246 [59] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 12:10:27,258 [60] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 12:33:09,171 [106] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (76ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 12:33:09,188 [106] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 12:33:09,188 [106] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 12:33:09,189 [106] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 12:33:09,190 [106] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 12:33:09,192 [106] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 12:33:09,201 [106] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 12:33:12,049 [90] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 12:33:12,049 [105] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 12:33:12,094 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 12:33:12,150 [90] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 12:33:12,163 [90] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (74ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 12:33:12,164 [90] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 12:46:26,396 [87] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 12:46:26,396 [98] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 12:46:26,786 [97] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (123ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 12:46:26,786 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 12:46:26,794 [66] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 12:46:26,796 [98] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 12:59:55,485 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (102ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 12:59:55,488 [68] INFO  API.Controllers.UserController - User login attempt for email: operator@example.com
2025-07-14 13:00:20,295 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 13:00:20,296 [3] INFO  API.Controllers.UserController - User login attempt for email: operator@example.com
2025-07-14 13:01:22,706 [76] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:01:22,708 [107] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 13:01:22,877 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (148ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:01:22,884 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (95ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 13:01:22,891 [5] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 13:01:22,911 [107] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:01:35,909 [107] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 13:01:35,919 [107] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 13:01:35,919 [107] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 13:01:35,919 [107] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 13:01:35,920 [107] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 13:01:35,928 [107] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 13:01:35,938 [107] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 13:01:37,706 [5] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:01:37,723 [57] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 13:01:37,743 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:01:37,782 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 13:01:37,807 [101] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:01:37,807 [76] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 13:01:50,784 [5] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 13:01:50,785 [5] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 13:01:50,786 [5] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 13:01:50,786 [5] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 13:01:50,786 [5] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 13:01:50,786 [5] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 13:01:50,788 [5] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 13:02:45,070 [101] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:02:45,100 [101] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:02:45,104 [57] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:30:42,340 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (175ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 13:30:42,352 [78] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 13:30:42,352 [78] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 13:30:42,353 [78] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 13:30:42,353 [78] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 13:30:42,354 [78] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 13:30:42,367 [78] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 13:30:44,055 [86] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:30:44,059 [84] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 13:30:44,096 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (32ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:30:44,104 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 13:30:44,105 [78] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:30:44,105 [84] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 13:30:57,465 [84] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:30:57,480 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:30:57,485 [86] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:32:59,774 [78] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:32:59,792 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:32:59,795 [77] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:43:27,872 [78] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:43:27,965 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (48ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:43:27,971 [84] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:43:54,651 [78] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:43:54,661 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:43:54,665 [60] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:44:11,644 [47] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:44:11,657 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:44:11,662 [84] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:45:14,687 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-07-14 13:45:14,688 [78] INFO  API.Controllers.UserController - User login attempt for email: operator1@example.com
2025-07-14 13:45:14,688 [78] INFO  API.Controllers.UserController - User operator1@example.com authenticated successfully.
2025-07-14 13:45:14,688 [78] INFO  API.Controllers.UserController - Generating JWT token for user: operator1@example.com
2025-07-14 13:45:14,688 [78] INFO  API.Controllers.UserController - Claims created for user: operator1@example.com
2025-07-14 13:45:14,688 [78] INFO  API.Controllers.UserController - JWT token created for user: operator1@example.com
2025-07-14 13:45:14,691 [78] INFO  API.Controllers.UserController - JWT token generated for user operator1@example.com.
2025-07-14 13:45:16,376 [55] INFO  API.Controllers.BusOperatorController - Fetching bookings for operator ID: 1
2025-07-14 13:45:16,376 [84] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:45:16,416 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookingDate], [b].[BusId], [b].[SeatNumbers], [b].[Status], [b].[TotalAmount], [b].[UserId], [b0].[Id], [b0].[BusName], [b0].[BusNumber], [b0].[BusOperatorId], [b0].[BusType], [b0].[RouteId], [b0].[TotalSeats], [b1].[Id], [b1].[CompanyName], [b1].[ContactNumber], [b1].[SupportEmail], [b1].[UserId], [u].[Id], [u].[Email], [u].[FullName], [u].[PasswordHash], [u].[Role]
FROM [Bookings] AS [b]
INNER JOIN [Buses] AS [b0] ON [b].[BusId] = [b0].[Id]
INNER JOIN [BusOperators] AS [b1] ON [b0].[BusOperatorId] = [b1].[Id]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[Id]
WHERE [b0].[BusOperatorId] = @__operatorId_0
2025-07-14 13:45:16,417 [78] INFO  API.Controllers.BusOperatorController - Retrieved 4 bookings for operator ID: 1
2025-07-14 13:45:16,428 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:45:16,430 [55] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
2025-07-14 13:45:38,082 [60] INFO  API.Controllers.BusOperatorController - Fetching buses for operator ID: 1
2025-07-14 13:45:38,090 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__operatorId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BusName], [b].[BusNumber], [b].[BusOperatorId], [b].[BusType], [b].[RouteId], [b].[TotalSeats], [r].[Id], [r].[ArrivalTime], [r].[DepartureTime], [r].[Destination], [r].[Fare], [r].[Origin], [s].[Id], [s].[BusId], [s].[IsBooked], [s].[SeatNumber]
FROM [Buses] AS [b]
INNER JOIN [Routes] AS [r] ON [b].[RouteId] = [r].[Id]
LEFT JOIN [Seats] AS [s] ON [b].[Id] = [s].[BusId]
WHERE [b].[BusOperatorId] = @__operatorId_0
ORDER BY [b].[Id], [r].[Id]
2025-07-14 13:45:38,091 [86] INFO  API.Controllers.BusOperatorController - Retrieved 6 buses for operator ID: 1
